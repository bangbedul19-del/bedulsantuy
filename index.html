<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Alert / Tab Focus Confusion PoC</title>
<style>
body {
  font-family: Arial, sans-serif;
  padding: 40px;
}
button {
  padding: 14px 22px;
  font-size: 16px;
}
</style>
</head>
<body>

<h2>Alert Timing After Tab Navigation</h2>
<p>
This test attempts to show an alert shortly after a new tab is opened.
</p>

<button onclick="run()">Open Tab + Alert</button>

<script>
function run() {
  // 1) Open new tab first
  window.open("https://www.google.com", "_blank");

  // 2) Slight delay before alert (race window)
  setTimeout(() => {
    alert(
      "Alert from ORIGINAL origin\n\n" +
      "JS Origin: " + location.origin
    );
  }, 50); // try 20â€“100 ms
}
</script>

</body>
</html>